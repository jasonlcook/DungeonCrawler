@page "/"

@using BlazorDungeonCrawler.Shared.Enumerators;
@using BlazorDungeonCrawler.Shared.Responses;
@using BlazorDungeonCrawler.Shared.Interfaces;
@using BlazorDungeonCrawler.Client.Pages;

@inject IJSRuntime JS
@inject IDungeonDataManager DungeonManager
@inject HttpClient Http

<div id="external-frame">
    <div id="play-area">
        <div id="messages">
            <Message ErrorMessages=errorMessages InfoMessages=infoMessages />
        </div>
        <div id="dungeon"></div>
    </div>
    <div class="button">
        <button @onclick="AutomaticallyAdvanceDungeon" class="dungeon-button" disabled="@AdvanceDisabled">Advance</button>
    </div>
    <div class="details">
        <div class="adventurer">
            <div class="dungeon-floor">
                <span class="label">Depth</span>
                <span class="value" id="current-floor">@DungeonDepth</span>
            </div>
            <div class="adventurer-stats">
                <AdventurerAttribute Attributes=adventurerExperienceStats />
                <AdventurerAttribute Attributes=adventurerHealthStats />
                <AdventurerAttribute Attributes=adventurerDamageStats />
                <AdventurerAttribute Attributes=adventurerProtectionStats />
            </div>
            <div class="dice"></div>
        </div>
        <div id="log">
        </div>
    </div>
</div>
<div id="external-frame-footer">
    <div id="version">
        <span class="api-version">@ApiVersion</span>
        <span class="client-version">Client V0.2.1</span>
    </div>
</div>

